<html lang="en">
 <head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>ResumeParser.ai</title>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
    rel="stylesheet"
  />
   <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
 </head>
 <body>
  <!-- Header -->
  <header class="header">
   <h1 class="header-title">
    <span>ResumeParser.ai</span>
   </h1>
   <p class="header-subtitle">Parse Resumes in Seconds</p>
  </header>
  <!-- Intro Section -->
  <section class="intro-section">
   <p>Extract, Analyze, and Organize Resumes Effortlessly</p>
   <p>Upload your resume and let our AI-powered parser do the work.</p>
   <button class="btn-try" type="button" id="openModalBtn">Give It Try!</button>
  </section>
  <!-- Horizontal line with circles -->
  <div class="line-with-circles">
   <div class="line"></div>
   <div class="circle left"></div>
   <div class="circle right"></div>
  </div>
  <!-- Features Title -->
  <h2 class="features-title" id="features-cards">
   FEATURES THAT MAKE<br />
   RESUME PARSING EFFORTLESS
  </h2>
  <!-- Features Cards -->
  <section class="features-cards">
   <div class="feature-card ai-powered">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="icon"
    >
     <path
       stroke-linecap="round"
       stroke-linejoin="round"
       d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"
     />
    </svg>
    <h3>AI-Powered Parsing</h3>
    <p>Automatically extracts names, skills, experience, education, and much more</p>
   </div>
   <div class="feature-card multi-format">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="icon"
    >
     <path
       stroke-linecap="round"
       stroke-linejoin="round"
       d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"
     />
    </svg>
    <h3>Multi-format Support</h3>
    <p>Upload resumes in PDF, DOCS, or TXT formats easily</p>
   </div>
   <div class="feature-card instant-export">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="icon"
    >
     <path
       stroke-linecap="round"
       stroke-linejoin="round"
       d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"
     />
    </svg>
    <h3>
     Instant <br />
     Export
    </h3>
    <p style="font-size: 20px;">
     Download structured data in JSON, Excel, or CSV in one click.
    </p>
   </div>
   <div class="feature-card data-privacy">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="icon"
    >
     <path
       stroke-linecap="round"
       stroke-linejoin="round"
       d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"
     />
    </svg>
    <h3>
     Data <br />
     Privacy
    </h3>
    <p>Your resumes stay secure data is never shared.</p>
   </div>
  </section>
  <!-- Horizontal line with circles -->
  <div class="line-with-circles">
   <div class="line"></div>
   <div class="circle left"></div>
   <div class="circle right"></div>
  </div>
  <!-- How It Works Section -->
  <section class="how-it-works" id="how-it-works">
   <h2>HOW IT WORKS?</h2>
   <div class="how-it-works-content">
    <img src="{{ url_for('static', filename='Working.png') }}" alt="Working of ResumeParser.ai" />
   </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
   <div class="footer-container">
    <div class="footer-icons">
     <a href="https://linktr.ee/Praveen.Tak" target="_blank"
       ><i aria-hidden="true" class="fas fa-link"></i
     ></a>
     <a href="https://www.linkedin.com/in/praveentak/" target="_blank"
       ><i aria-hidden="true" class="fab fa-linkedin-in"></i
     ></a>
     <a href="https://github.com/TAK-PRAVEEN" target="_blank"
       ><i aria-hidden="true" class="fab fa-github"></i
     ></a>
     <a href="mailto:praveentak715@gmail.com" target="_blank"
       ><i aria-hidden="true" class="fas fa-envelope"></i
     ></a>
     <a href="https://www.instagram.com/tak.praveen04" target="_blank"
       ><i aria-hidden="true" class="fab fa-instagram"></i
     ></a>
    </div>
    <div class="footer-links">
     <span>|</span>
     <a href="#">Home</a>
     <span>|</span>
     <a href="#features-cards">Features</a>
     <span>|</span>
     <a href="#how-it-works">How It Works</a>
     <span>|</span>
    </div>
    <p>"Parse and analyze resumes effortlessly with AI."</p>
    <p>
     <a href="{{ url_for('privacy') }}" target="_blank"
       >Privacy Policy</a
     >
     |
     <a href="{{ url_for('terms') }}" target="_blank">Terms of Service</a>
    </p>
    <p>Â© 2025 Resume Parser. All rights reserved.</p>
   </div>
  </footer>

  <!-- Modal Overlay -->
  <div id="overlay"></div>

   <!-- Flash Messages (other messages) -->
  {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert {{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
  <!-- Register Modal -->
    <div id="registerModal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div id="modal-content">
            <h1 id="modal-title">Register</h1>
            <button aria-label="Close" id="closeBtn" class="close-btn">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.73335 22.9584L6.04169 21.2667L12.8084 14.5L6.04169 7.73335L7.73335 6.04169L14.5 12.8084L21.2667 6.04169L22.9584 7.73335L16.1917 14.5L22.9584 21.2667L21.2667 22.9584L14.5 16.1917L7.73335 22.9584Z" fill="#1D1B20"/>
                </svg>
            </button>
            <form action="{{ url_for('register') }}" id="registerForm" method="POST" onsubmit="return validateRegistration()">
                <label for="email">Email</label>
                <input type="email" id="email" name="register-email" required onblur="checkEmailOnBlur()">
                {% if email_error %}
                  <div class="error-message">{{ email_error }}</div>
                {% endif %}
                <div id="emailError" class="error-message" style="display: none;"></div>
                <label for="password">Password</label>
                <input type="password" id="password" autocomplete="current-password" name="register-password"  required />
                <button type="submit" class="register-btn" id="registerBtn" disabled>Register</button>
            </form>
            <p class="or-text">OR</p>
    <button type="button" class="google-btn">
        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_44_177)">
                <path d="M14.9998 12.2727V18.0818H23.0725C22.718 19.95 21.6542 21.5319 20.0588 22.5955L24.9269 26.3728C27.7633 23.7547 29.3997 19.9092 29.3997 15.341C29.3997 14.2774 29.3042 13.2546 29.1269 12.2729L14.9998 12.2727Z" fill="#4285F4"/>
                <path d="M6.59333 17.855L5.49538 18.6955L1.60895 21.7227C4.07712 26.6181 9.13584 30 14.9994 30C19.0493 30 22.4447 28.6636 24.9266 26.3727L20.0585 22.5954C18.7221 23.4954 17.0175 24.0409 14.9994 24.0409C11.0995 24.0409 7.78591 21.4091 6.59946 17.8636L6.59333 17.855Z" fill="#34A853"/>
                <path d="M1.60897 8.27722C0.586302 10.2953 0 12.5726 0 14.9999C0 17.4271 0.586302 19.7044 1.60897 21.7225C1.60897 21.736 6.59997 17.8498 6.59997 17.8498C6.29997 16.9498 6.12265 15.9953 6.12265 14.9997C6.12265 14.0041 6.29997 13.0496 6.59997 12.1496L1.60897 8.27722Z" fill="#FBBC05"/>
                <path d="M14.9997 5.97272C17.2089 5.97272 19.1725 6.73634 20.7406 8.20909L25.0361 3.91369C22.4315 1.48646 19.0498 0 14.9997 0C9.13615 0 4.07712 3.36818 1.60895 8.27728L6.59979 12.15C7.78608 8.60452 11.0998 5.97272 14.9997 5.97272Z" fill="#EA4335"/>
            </g>
            <defs>
                <clipPath id="clip0_44_177">
                    <rect width="30" height="30" fill="white"/>
                </clipPath>
            </defs>
        </svg>
     Continue with Google
    </button>
    <p class="login-register-text">
        Already Have Account?
        <a href="#loginModal" id="switchToLogin">Login Now</a>
    </p>
   </div>
  </div>
  <!-- Login Modal -->
    <div id="loginModal" role="dialog" aria-modal="true" aria-labelledby="login-modal-title" style="display: none;">
        <div id="modal-content">
            <h1 id="modal-title">Login</h1>
            <button aria-label="Close" id="closeLoginBtn" class="close-btn">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.73335 22.9584L6.04169 21.2667L12.8084 14.5L6.04169 7.73335L7.73335 6.04169L14.5 12.8084L21.2667 6.04169L22.9584 7.73335L16.1917 14.5L22.9584 21.2667L21.2667 22.9584L14.5 16.1917L7.73335 22.9584Z" fill="#1D1B20"/>
                </svg>
            </button>
            <form id="loginForm" method="post" action="{{ url_for('login') }}">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" placeholder="example@gmail.com" autocomplete="email" name="login-email" required />
                
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" autocomplete="current-password" name="login-password" required />
                
                <div class="error-message" style="color: red; display: none;" id="loginError"></div>  <!-- Hidden by default -->
                
                <button type="submit" class="login-btn" id="loginBtn" disabled>Login</button>  <!-- Disable button initially -->
            </form>


            <p class="or-text">OR</p>
            <button type="button" class="google-btn">
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_44_177)">
                        <path d="M14.9998 12.2727V18.0818H23.0725C22.718 19.95 21.6542 21.5319 20.0588 22.5955L24.9269 26.3728C27.7633 23.7547 29.3997 19.9092 29.3997 15.341C29.3997 14.2774 29.3042 13.2546 29.1269 12.2729L14.9998 12.2727Z" fill="#4285F4"/>
                        <path d="M6.59333 17.855L5.49538 18.6955L1.60895 21.7227C4.07712 26.6181 9.13584 30 14.9994 30C19.0493 30 22.4447 28.6636 24.9266 26.3727L20.0585 22.5954C18.7221 23.4954 17.0175 24.0409 14.9994 24.0409C11.0995 24.0409 7.78591 21.4091 6.59946 17.8636L6.59333 17.855Z" fill="#34A853"/>
                        <path d="M1.60897 8.27722C0.586302 10.2953 0 12.5726 0 14.9999C0 17.4271 0.586302 19.7044 1.60897 21.7225C1.60897 21.736 6.59997 17.8498 6.59997 17.8498C6.29997 16.9498 6.12265 15.9953 6.12265 14.9997C6.12265 14.0041 6.29997 13.0496 6.59997 12.1496L1.60897 8.27722Z" fill="#FBBC05"/>
                        <path d="M14.9997 5.97272C17.2089 5.97272 19.1725 6.73634 20.7406 8.20909L25.0361 3.91369C22.4315 1.48646 19.0498 0 14.9997 0C9.13615 0 4.07712 3.36818 1.60895 8.27728L6.59979 12.15C7.78608 8.60452 11.0998 5.97272 14.9997 5.97272Z" fill="#EA4335"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_44_177">
                            <rect width="30" height="30" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                Continue with Google
            </button>
            <p class="login-register-text">
                Don't Have an Account?
                <a href="#registerModal" id="switchToRegister">Register Now</a>
            </p>
        </div>
    </div>

  
   
 </body>
  <script>
        const openModalBtn = document.getElementById("openModalBtn");
        const modal = document.getElementById("registerModal");
        const overlay = document.getElementById("overlay");
        const closeBtn = document.getElementById("closeBtn");
        const switchToLogin = document.getElementById("switchToLogin");
        const loginModal = document.getElementById("loginModal");
        const closeLoginBtn = document.getElementById("closeLoginBtn");

        openModalBtn.addEventListener("click", () => {
            modal.style.display = "flex";
            overlay.style.display = "block";
        });

        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
            overlay.style.display = "none";
        });
        
        overlay.addEventListener("click", () => {
            modal.style.display = "none";
            loginModal.style.display = "none";
            overlay.style.display = "none";
        });

        switchToLogin.addEventListener("click", (e) => {
            e.preventDefault();
            modal.style.display = "none";
            loginModal.style.display = "flex";
        });

        closeLoginBtn.addEventListener("click", () => {
            loginModal.style.display = "none";
            overlay.style.display = "none";
        });

        document.getElementById("switchToRegister").addEventListener("click", (e) => {
            e.preventDefault();
            loginModal.style.display = "none";
            modal.style.display = "flex";
        });

        document.getElementById("registerForm").addEventListener("submit", function(e) {
            e.preventDefault();
            fetch(this.action, {
                method: 'POST',
                body: new FormData(this)
            }).then(response => {
                window.location.href = "parsing";
            });
        });
    
        function emailExists(email) {
            return fetch('/check_email', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email: email })
            })
            .then(response => response.json())
            .then(data => {
                return data.exists; // Returns true if the email exists, false otherwise
            });
        }

        // Global variable to track current email validation state
        let currentEmailValid = false;

        async function validateRegistration(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Don't proceed if email isn't valid
            if (!currentEmailValid) {
                return false;
            }

            // Submit form if email is valid
            document.getElementById('registerForm').submit();
        }

        async function checkEmailOnBlur() {
            const email = document.getElementById('email').value;
            const emailError = document.getElementById('emailError');
            const registerBtn = document.getElementById('registerBtn');
            
            // Reset state
            emailError.style.display = 'none';
            registerBtn.disabled = true;
            
            // Only check if email is not empty
            if (email) {
                try {
                    // Show loading state
                    registerBtn.textContent = "Checking...";
                    
                    const exists = await emailExists(email);
                    
                    if (exists) {
                        emailError.textContent = "Email already exists. Please try logging in.";
                        emailError.style.display = 'block';
                        currentEmailValid = false;
                    } else {
                        currentEmailValid = true;
                        registerBtn.disabled = false;
                    }
                } catch (error) {
                    console.error("Error checking email:", error);
                    emailError.textContent = "Error checking email availability";
                    emailError.style.display = 'block';
                    currentEmailValid = false;
                } finally {
                    registerBtn.textContent = "Register";
                }
            }
        }

        // Add event listener to enable button when email changes
        document.getElementById('email').addEventListener('input', function() {
            // Clear any existing error when user types
            document.getElementById('emailError').style.display = 'none';
            
            // Enable button if there's text (actual validation happens on blur)
            const registerBtn = document.getElementById('registerBtn');
            registerBtn.disabled = this.value.length === 0;
        });

        document.getElementById("registerForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            const response = await fetch('/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',  // Specify JSON content
                },
                body: JSON.stringify({
                    email: email,
                    password: password
                }),
            });

            const result = await response.json();
            if (response.ok) {
                alert(result.msg);
                window.location.href = "parsing";
            } else {
                document.getElementById("emailError").textContent = result.msg;
                document.getElementById("emailError").style.display = "block";
            }
        });

        // Add event listener to enable button when email or password changes
        document.getElementById('loginEmail').addEventListener('input', toggleLoginButton);
        document.getElementById('loginPassword').addEventListener('input', toggleLoginButton);

        function toggleLoginButton() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const loginBtn = document.getElementById('loginBtn');
            
            // Enable button if both fields are filled
            loginBtn.disabled = !(email && password);
            
            // Clear error message when user starts typing
            document.getElementById('loginError').style.display = 'none';  // Hide error message
        }

        // Update the login form submission
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();  // Prevent default form submission

            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            // Validate input
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            const response = await fetch(this.action, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    email: email,
                    password: password
                }),
            });

            const result = await response.json();
            if (response.ok) {
                alert(result.msg);
                window.location.href = "parsing";  // Redirect on success
            } else {
                // Display error message
                const loginError = document.getElementById('loginError');
                loginError.textContent = result.msg;  // Show error message
                loginError.style.display = 'block';  // Make it visible
            }
        });






    </script>
</html>